@font-size-normal: 16px;
@font-size-small: 12px;
@font-color: #383838;

*, *:before, *:after {box-sizing: border-box;}
.outline(@color:#f00) {outline: 1px solid @color;}
.border(@color: #f00) {border: 1px solid @color;}
.bg(@color: #f00) {background: @color;}
.hide {display: none;}
.show(@display: block) {display: @display;}

.column() {
  display: inline-block;
  vertical-align: top;
}


.small-caps {
  font-size: @font-size-small;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

html {
  font-size: 14px;
}

body {
  color: @font-color;
}

#content {
  .outline(#0f0);
  width: 960px;
  margin: 80px auto 0 auto;
}

@channelLength: 220px;
@innerChannelLength: 180px;
@cellLength: @innerChannelLength / 4;
@channelContainerWidth: (@channelLength * 3);

.flow-content() {
  display: flex;
  flex-flow: row wrap;
  justify-content: space-between;
}

.center-content() {
  display: flex;
  align-items: center;
  justify-content: center;
}

.channels {
  .flow-content;
  width: @channelContainerWidth;
  margin: 0 auto;
}

.channel {
  .center-content;
  width: @channelLength;
  height: @channelLength;
  border: 1px dashed #f00;
  &:not(:nth-child(3n + 1)) {
    border-left: none;
  }
  &:nth-child(n + 4) {
    border-top: none;
  }
}

.cells {
  .flow-content;
  width: @innerChannelLength;
  height: @innerChannelLength;
}

.cell {
  position: relative;
  width: @cellLength;
  height: @cellLength;
  .center-content;
  .border;
  &:not(:nth-child(4n + 1)) {
    border-left: none;
  }
  &:nth-child(n + 5) {
    border-top: none;
  }
  &.playing {
    .bg(#fdd) !important;
  }
}

.add-channel {
  .channel;
  > div:first-child {
    .center-content;
    width: @innerChannelLength;
    height: @innerChannelLength;
    cursor: pointer;
    .border;
  }
}

.channels .spacer {
  .channel;
}